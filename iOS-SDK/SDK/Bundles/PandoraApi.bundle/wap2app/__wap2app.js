!function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){!function(e){if(!e.wap2app){var t="1.0.2";i(2);var n=i(6),o=i(8),a=i(9),r=i(12),s=i(13),p=i(14),c=i(11),l=i(15),h=i(16),d=i(17),u=i(10),w=i(18),f=i(21),v=i(24),_=i(26),b=!1,m=!1,g=!1,y=!1,x=!1,O=!1,T=function(t){e.__wap2app_init||(e.__wap2app_init=!0,n.plusReady(function(){if(g=new v(t),b=plus.webview.currentWebview().id,O=plus.webview.getWebviewById(c.W2A_CONTEXT_ID),b===plus.runtime.appid){plus.storage.removeItem(c.W2A_CONTEXT_READY);var i=new _(g);"file:"===e.location.protocol?i.handleOldVersion():(O?plus.storage.setItem(c.W2A_CONTEXT_READY,"TRUE"):E(),S(b),m=new d)}else b===c.W2A_CONTEXT_ID?(x=new f(g),plus.storage.setItem(c.W2A_CONTEXT_READY,"TRUE")):S(b)}))},W=function(e,t,i){x?x.open("blank",plus.webview.getWebviewById(i),e,t):O&&O.evalJS("wap2app&&wap2app.open('"+e+"','"+(t||"")+"','"+b+"')")},I=function(e){x?x.back(e):O&&O.evalJS("wap2app&&wap2app.back("+e+")")},k=function(){x?x.close():O&&O.evalJS("wap2app&&wap2app.close()")},A=function(){y.quit()},E=function(){O=plus.webview.create("_www/__wap2appcontext.html",c.W2A_CONTEXT_ID,{opacity:0,popGesture:"none"}),O.show("none"),plus.webview.getLaunchWebview().show("none")},S=function(e){y||(y=new w(g.getWebviewOptionsById(e)))};e.wap2app={version:t,SPA:o,dom:a,util:n,now:n.now,init:T,gps:i(19),config:function(e){try{e()}catch(t){console.error(t)}},open:W,quit:A,back:I,close:k,ajax:s,report:p,trigger:a.trigger,plusReady:n.plusReady,domReady:a.ready,extend:n.extend,getStyles:a.getStyles,getCookie:l.get,setCookie:l.set,removeCookie:l.remove,injectStyle:a.injectStyle,getLocation:a.getLocation,share:{init:r.init,open:function(t,i,n){t=t||{title:document.title,content:document.title,href:e.location.href},"string"==typeof t&&(t=JSON.parse(t)),r.open(t,i,n)}},getContext:function(){return x},isConfiged:function(e){return g.isConfiged(e)},getW2AOptions:function(){return g},currentW2AWebview:function(){return y},getArgs:h,getW2AQuit:function(){return m||(m=new d),m},createW2AView:function(e,t,i){var n=i&&plus.webview.getWebviewById(i);return n||(n=plus.webview.currentWebview()),new u(e,n,t)}}}}(window)},function(e,t,i){i(3),i(4),i(5)},function(e,t){Function.prototype.bind=Function.prototype.bind||function(e){var t=Array.prototype.splice.call(arguments,1),i=this,n=function(){var o=t.concat(Array.prototype.splice.call(arguments,0));return this instanceof n?void i.apply(this,o):i.apply(e,o)};return n.prototype=i.prototype,n}},function(e,t){function i(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("Events"),n=!0;for(var o in t)"bubbles"===o?n=!!t[o]:i[o]=t[o];return i.initEvent(e,n,!0),i}"undefined"==typeof window.CustomEvent&&(i.prototype=window.Event.prototype,window.CustomEvent=i)},function(e,t,i){var n=i(6).plusReady,o=i(7);if(o.plus){navigator.geolocation.clearWatch=function(e){n(function(){plus.geolocation.clearWatch(e)})},navigator.geolocation.getCurrentPosition=function(e,t,i){n(function(){+new Date;plus.geolocation.getCurrentPosition(function(t){e(o.stream&&o.qihoo?t:p(t))},t,i)})},navigator.geolocation.watchPosition=function(e,t,i){n(function(){plus.geolocation.watchPosition(e,t,i)})};var a=3.141592653589793,r=6378245,s=.006693421622965943,p=function(e){if("gcj02"===e.coordsType){var t=c(e.coords.longitude,e.coords.latitude);e.coords.longitude=t[0],e.coords.latitude=t[1]}return e},c=function(e,t){if(d(e,t))return[e,t];var i=l(e-105,t-35),n=h(e-105,t-35),o=t/180*a,p=Math.sin(o);p=1-s*p*p;var c=Math.sqrt(p);return i=180*i/(r*(1-s)/(p*c)*a),n=180*n/(r/c*Math.cos(o)*a),mglat=t+i,mglng=e+n,[2*e-mglng,2*t-mglat]},l=function(e,t){var i=-100+2*e+3*t+.2*t*t+.1*e*t+.2*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*a)+20*Math.sin(2*e*a))/3,i+=2*(20*Math.sin(t*a)+40*Math.sin(t/3*a))/3,i+=2*(160*Math.sin(t/12*a)+320*Math.sin(t*a/30))/3},h=function(e,t){var i=300+e+2*t+.1*e*e+.1*e*t+.1*Math.sqrt(Math.abs(e));return i+=2*(20*Math.sin(6*e*a)+20*Math.sin(2*e*a))/3,i+=2*(20*Math.sin(e*a)+40*Math.sin(e/3*a))/3,i+=2*(150*Math.sin(e/12*a)+300*Math.sin(e/30*a))/3},d=function(e,t){return 72.004>e||e>137.8347||.8293>t||t>55.8271||!1}}},function(e,t){var i=Array.isArray||function(e){return e instanceof Array},n=function(e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===Object.prototype},o=function(e,t){if(t)for(var i in t){var a=e[i],r=t[i];n(r)?e[i]=o(a&&n(a)?a:{},r):"undefined"!==r&&(e[i]=r)}return e},a=function(){for(var e={},t=0;t<arguments.length;t++){var i=arguments[t];i&&n(i)&&o(e,i)}return e},r=function(e,t,n){return"string"==typeof t?t===e:"function"==typeof t?(n.splice(0,0,e),t.apply(null,n)):i(t)?~t.indexOf(e):t instanceof RegExp?t.test(e):!1},s=function(e,t,i){var n=!0;return i=i||[],i.splice(0,0,e),t.matchHostnames&&(n=r(e.hostname,t.matchHostnames,i),null!==n&&!n)?!1:t.matchPathnames&&(n=r(e.pathname,t.matchPathnames,i),null!==n&&!n)?!1:t.title&&e.title&&(n=r(e.title,t.title,i),null!==n&&!n)?!1:n},p=function(e){window.plus?e():document.addEventListener("plusready",function(){e()},!1)},c=/\+/g,l=/([^&=]+)=?([^&]*)/g,h=function(e){var t={};if(e=e&&(0===e.indexOf("?")?e.replace("?",""):e))for(var i;i=l.exec(e);)t[d(i[1])]=d(i[2]);return t},d=function(e){return decodeURIComponent(e.replace(c," "))},u=function(e,t){var i=h(t||location.search);return i.hasOwnProperty(e)?i[e]:""},w=Date.now||function(){return(new Date).getTime()},f=function(e,t,i){var n,o,a,r,s=0;i||(i={});var p=function(){s=i.leading===!1?0:w(),n=null,r=e.apply(o,a),n||(o=a=null)},c=function(){var c=w();s||i.leading!==!1||(s=c);var l=t-(c-s);return o=this,a=arguments,0>=l||l>t?(n&&(clearTimeout(n),n=null),s=c,r=e.apply(o,a),n||(o=a=null)):n||i.trailing===!1||(n=setTimeout(p,l)),r};return c.cancel=function(){clearTimeout(n),s=0,n=o=a=null},c},v=function(e,t,i){return e>i.left&&e<i.left+i.width&&t>i.top&&t<i.top+i.height},_=function(){return!!plus.nativeObj.hasOwnProperty("View")},b=0,m=0;e.exports={now:w,time:function(e){var t=w();e&&(b=t,m=t),b||(b=t,m=t);var i=t-m;return m=w(),"[\u8017\u65f6\uff1a"+(t-b)+"\uff0c"+i+"]"},isObject:n,isArray:i,isMatch:s,extend:a,isCross:v,throttle:f,plusReady:p,parseParams:h,getUrlParam:u,supportNativeObj:_}},function(e,t){var i={android:!1,ios:!1,plus:!1,stream:!1,qihoo:!1},n=navigator.userAgent;n.match(/(Android);?[\s\/]+([\d.]+)?/)?i.android=!0:n.match(/(iPhone\sOS)\s([\d_]+)/)&&(i.ios=!0),n.match(/Html5Plus/i)&&(i.plus=!0,n.match(/StreamApp/i)&&(i.stream=!0,n.match(/Qihoo/i)&&(i.qihoo=!0))),e.exports=i},function(e,t,i){var n=i(6),o=i(9),a=i(10),r=[],s=function(e,t,i,n,o){"string"==typeof t&&(n=i,i=t,t=!1),i=i||plus.webview.currentWebview().id;var s=plus.webview.getWebviewById(i);wap2app.getContext()&&(r=wap2app.getContext().getWebviewContextById(i).history);var c=function(i,o){n===!0?s.evalJS('location.replace("'+e+'")'):n===!1&&s.evalJS('location.href="'+e+'"'),t&&t(i,o)},l=wap2app.getW2AOptions().getWebviewOptionsByUrl(e);if(!l.screenshot||!l.screenshot.url)return void c(!1);var h=function(){var t=new a(p(e,l.screenshot),s,l.screenshot);t.show(l.show.aniShow,l.show.duration,function(e){e?c(t,l):c(!1),o||setTimeout(function(){t.close(l.screenshot.animation.type,l.screenshot.animation.duration,function(){setTimeout(function(){t.clear()},l.screenshot.animation.delay)})},l.delay)})},d=new plus.nativeObj.Bitmap(e+"_"+Math.random());s.draw(d,function(){!n&&r.push(d.id),h()},function(){d.clear(),d=null,!n&&r.push(!1),h()})},p=function(e,t){if("function"==typeof t.handle){var i=o.getLocation(e);return t.handle(i.pathname,i)}return t.url},c=function(e,t,i,o){var s=!1,p=!1;"string"==typeof i&&(s=i,p=plus.webview.getWebviewById(s),i=function(e){p&&p.back()},wap2app.getContext()&&(r=wap2app.getContext().getWebviewContextById(s).history)),"string"==typeof o&&(o=JSON.parse(o)),e=e||"pop-out",t=t||200,o=n.extend({showWaiting:!1,delay:200,animation:{type:"shrink",duration:200,delay:0,frames:12,region:{top:"0px",bottom:"0px",left:"0px",right:"0px"}}},o);var c=r.pop();if(c){var l=new a(c,p,{animation:o.animation});l.show(e,t,function(e){e?i&&i(!0):i&&i(!1),o.showWaiting&&plus.nativeUI.showWaiting(),setTimeout(function(){l.close("shrink",200,function(){l.clear();var e=plus.nativeObj.Bitmap.getBitmapById(c);e&&e.clear(),o.showWaiting&&plus.nativeUI.closeWaiting()})},o.delay)})}else i&&i(!1)};e.exports={open:s,back:c}},function(e,t,i){var n=i(6),o=/complete|loaded|interactive/,a=function(e){o.test(document.readyState)?e():document.addEventListener("DOMContentLoaded",function(){e()},!1)},r=function(e,t,i){e&&e.dispatchEvent(new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}))},s=function(e){a(function(){var t=document.createElement("style");t.appendChild(document.createTextNode(e)),document.head.appendChild(t)})},p=function(e,t){var i=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?i.getPropertyValue(t)||i[t]:i},c=function(e,t){for(var i in t)if(t[i].test(e[i]))return!0;return!1},l=["hash","host","hostname","href","origin","pathname","port","protocol","search"],h=document.createElement("a"),d=function(e,t){h.href=e;for(var i={title:t},n=0,o=l.length;o>n;n++){var a=l[n];i[a]=h[a]}return i},u=function(e,t,i){var o={};n.isObject(i)?(o=i,o.expires=o.expires||1):o.expires=i||1;var a=new Date;a.setTime(a.getTime()+24*o.expires*60*60*1e3);var r="expires="+a.toUTCString(),s=o.path||"/",p=o.domain||"";document.cookie=e+"="+t+"; path="+s+"; "+(p?"domain="+p+"; ":"")+r+"; "},w=function(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},f=function(e,t){n.isObject(t)||(t={}),t.expires=-1,u(e,"",t)};e.exports={ready:a,trigger:r,setCookie:u,getCookie:w,removeCookie:f,getStyles:p,getLocation:d,injectStyle:s,elementMatch:c}},function(e,t,i){var n=i(6),o=i(11),a=function(e,t,i,o){this.id=e,n.isObject(t)?(this.styles=t,this.webview=i,this.options=o):(this.options=i,this.webview=t,this.styles=!1),this.view=!1,this.bitmap=!1,this.visible=!1,this.animated=!1,this.title=!1,this.aniShow="pop-in",this.stopped=!1,this.drewTexts=!1,this.firstView=!1,this.secondView=!1,this.w2aContext=wap2app.getContext(),this._init()},r=a.prototype;r._init=function(){if(this.styles)this.view=new plus.nativeObj.View(this.id,this.styles);else{if(this.bitmap=this.w2aContext.getBitmapById(this.id),!this.bitmap)return;this.view=this.w2aContext.getViewById(o.W2A_VIEW_ID)}},r.setTitle=function(e){e&&!this.title&&(this.title=e,this.drawTexts(this.view,[n.extend(this.options.title,{text:e})]))},r.show=function(e,t,i,n){if(this.aniShow=e,!this.view)return this.visible=!1,i&&i(!1),!1;if(!e||"none"===e){if(this.webview){var a=this.webview;a=a.parent()||a,a.draw(this.bitmap,function(){this.visible=!0,this.animated=!1,this.view.drawBitmap(this.bitmap),this._drawRect(),this.drawTexts(this.view,this.options.drawText),this.view.show(),i&&i(!0)}.bind(this),function(e){this.visible=!1,i&&i(!1)})}else this.visible=!0,this.animated=!1,this.view.drawBitmap(this.bitmap),this._drawRect(),this.drawTexts(this.view,this.options.drawText),this.view.show(),i&&i(!0);return!0}if("slide-in-right"===e)return this.visible=!0,this.animated=!1,this.view.drawBitmap(this.bitmap),this.drawTexts(this.view,this.options.drawText),this.firstView=this.view,this.secondView=null,plus.nativeObj.View.startAnimation({type:e,duration:t},this.firstView,this.secondView,function(){n&&n(!0)}),i&&i(!0),!0;this.relatedView=this.w2aContext.getViewById(o.W2A_OTHER_VIEW_ID);var r=this.w2aContext.getBitmapById(o.W2A_OTHER_BITMAP_ID);if(this.relatedView&&r){var a=this.webview,s=function(o){this.visible=!0,this.animated=!1,this.view.drawBitmap(this.bitmap),o&&(this.relatedView={bitmap:o}),this.drawTexts(this.view,this.options.drawText),this.firstView=this.relatedView,this.secondView=this.view,"pop-out"===e&&(this.firstView=this.view,this.secondView=this.relatedView),plus.nativeObj.View.startAnimation({type:e,duration:t},this.firstView,this.secondView,function(){n&&n(!0)}),i&&i(!0)};if(!a)return void("pop-in"===e||"pop-out"===e?s.call(this,!1):(this.visible=!1,i&&i(!1)));a=a.parent()||a,a.draw(r,function(){s.call(this,r)}.bind(this),function(t){"pop-in"===e||"pop-out"===e?s.call(this,!1):(this.visible=!1,i&&i(!1))}.bind(this))}else this.visible=!1,i&&i(!1)},r.back=function(e,t,i){var n=this,o=function(){plus.nativeObj.View.clearAnimation(),n.hide(),n.reset(),n.visible=!1};"function"==typeof this.view.setTouchEventRect&&this.firstView?plus.nativeObj.View.startAnimation({type:e,duration:t},this.firstView,this.secondView,function(){o()}):o()},r.close=function(e,t,i){if(this.visible){var n=this.options.animation;"pop-out"===this.aniShow?(this.animated=!0,i&&i(!0)):this.view.animate({type:e,duration:t,frames:n.frames,region:n.region},function(){this.animated=!0,i&&i(!0)}.bind(this))}else i&&i(!1)},r.setStopped=function(e){this.stopped=e},r.clear=function(e){this.visible&&(this.stopped,this.animated?(plus.nativeObj.View.clearAnimation(),this.hide(),this.reset(),this.visible=!1,e&&e()):this.clearTimer=setTimeout(function(){this.clear(e)}.bind(this),200))},r.hide=function(){var e=this.w2aContext.getViewById(o.W2A_VIEW_ID);e&&e.hide(),e=this.w2aContext.getViewById(o.W2A_OTHER_VIEW_ID),e&&e.hide()},r.reset=function(){var e=this.w2aContext.getViewById(o.W2A_VIEW_ID);e&&e.reset(),e=this.w2aContext.getViewById(o.W2A_OTHER_VIEW_ID),e&&e.reset()},r._drawRect=function(){if(this.options.matchPathnames){var e=this.options.placeholder,t=this.options.animation.region,i=this._getDst(t.top),n=this._getDst(t.bottom);this.view.drawRect(e,{top:i,height:window.innerHeight-i-n})}},r._getDst=function(e){if("number"==typeof e)return parseInt(e,10);if("string"==typeof e){if(-1!==e.indexOf("px",e.length-2))return parseInt(e,10);var t=document.querySelector(e);return t&&t.offsetHeight||0}if("function"==typeof e){var e=parseInt(e(),10);return e||0}return 0},r._ellipsis=function(e,t){if(!e)return"";if(!t||e.replace(/[^\x00-\xff]/g,"**").length<=t)return e;for(var i=0,n="",o=0;o<e.length;o++)if(n+=e.charAt(o),e.charCodeAt(o)>128){if(i+=2,i>t)return n.substring(0,n.length-1)+"..."}else if(i+=1,i>t)return n.substring(0,n.length-2)+"...";return e},r.drawTexts=function(e,t){if("function"==typeof t&&(t=t(),t&&n.isObject(t)&&(t=[t])),t&&n.isArray(t)&&t.length){for(var i=0;i<t.length;i++){var o=t[i];if(o.text){var a=o.text;"function"==typeof a&&(a=a()),a&&(e.drawText(this._ellipsis(a,o.max||25),o.dst,o.styles),this.drewTexts=!0)}}return t}return!1},e.exports=a},function(e,t){e.exports={SCREENSHOT_PATH:"_www/__wap2app/screenshot/",W2A_WEBVIEW_ID:"__W2A_WEBVIEW_ID_",W2A_LAUNCH_WEBVIEW_ID:"launch",W2A_APP_NAME:"__W2A_APP_NAME",W2A_CONTEXT_READY:"__W2A_READY",W2A_WEBVIEW_LOADING:"__W2A_WEBVIEW_LOADING_",W2A_WEBVIEW_BACKING:"__W2A_WEBVIEW_BACKING_",W2A_WEBVIEW_RELOAD:"__W2A_WEBVIEW_RELOAD_",W2A_BITMAP_ID:"__W2A_BITMAP",W2A_OTHER_BITMAP_ID:"__W2A_OTHER_BITMAP",W2A_VIEW_ID:"__W2A_VIEW",W2A_OTHER_VIEW_ID:"__W2A_OTHER_VIEW",W2A_GROUP_SPLIT:"__W2A_GROUP__",W2A_CONTEXT_ID:"__W2A_CONTEXT_",W2A_BROWSER_ID:"__W2A_BROWSER_",W2A_OVERRIDE_IGNORE:["tel","mailto:","callto:","weixin:","alipay:","alipayqr:"],W2A_OVERRIDE_MATCH:"^(http|https|ftp|tel|mailto|callto|weixin|alipay|alipayqr).*",W2A_BROWSER_CHILD_ID:"__W2A_WEBVIEW_ID_BROWSER_CHILD_",W2A_GPS_TIME:"__W2A_GPS_TIME",W2A_FEEDBACK_ID:"__W2A_FEEDBACK",W2A_FEEDBACK_URL:"http://stream.cdn.aliyun.dcloud.net.cn/feedback/template/feedback.html",W2A_QUIT_IFRAME_ID:"__W2A_QUIT_IFRAME",W2A_QUIT_IFRAME_STYLE:"-webkit-transform:translate(0px, -100%);position: fixed;background: transparent;left: 0;top: 0;right: 0;bottom: 0;width:100%;height:100%;z-index: 2147483647;border:0;",W2A_QUIT_IFRAME_HTML:'<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no"><title></title><script>!function(e,t){function i(){var t=n.getBoundingClientRect().width;t/m>540&&(t=540*m);var i=t/10;n.style.fontSize=i+"px",s.rem=e.rem=i}var a,r=e.document,n=r.documentElement,o=r.querySelector(\'meta[name="viewport"]\'),l=r.querySelector(\'meta[name="flexible"]\'),m=0,d=0,s=t.flexible||(t.flexible={});if(o){console.warn("\u5c06\u6839\u636e\u5df2\u6709\u7684meta\u6807\u7b7e\u6765\u8bbe\u7f6e\u7f29\u653e\u6bd4\u4f8b");var c=o.getAttribute("content").match(/initial\\-scale=([\\d\\.]+)/);c&&(d=parseFloat(c[1]),m=parseInt(1/d))}else if(l){var p=l.getAttribute("content");if(p){var u=p.match(/initial\\-dpr=([\\d\\.]+)/),f=p.match(/maximum\\-dpr=([\\d\\.]+)/);u&&(m=parseFloat(u[1]),d=parseFloat((1/m).toFixed(2))),f&&(m=parseFloat(f[1]),d=parseFloat((1/m).toFixed(2)))}}if(!m&&!d){var h=e.navigator.userAgent,v=(!!h.match(/android/gi),!!h.match(/iphone/gi)),x=v&&!!h.match(/OS 9_3/),b=e.devicePixelRatio;m=v&&!x?b>=3&&(!m||m>=3)?3:b>=2&&(!m||m>=2)?2:1:1,d=1/m}if(n.setAttribute("data-dpr",m),!o)if(o=r.createElement("meta"),o.setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+d+", maximum-scale="+d+", minimum-scale="+d+", user-scalable=no"),n.firstElementChild)n.firstElementChild.appendChild(o);else{var w=r.createElement("div");w.appendChild(o),r.write(w.innerHTML)}e.addEventListener("resize",function(){clearTimeout(a),a=setTimeout(i,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(a),a=setTimeout(i,300))},!1),"complete"===r.readyState?r.body.style.fontSize=12*m+"px":r.addEventListener("DOMContentLoaded",function(){r.body.style.fontSize=12*m+"px"},!1),i(),s.dpr=e.dpr=m,s.refreshRem=i,s.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},s.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}));</script><style>html,body{height:100%;width:100%;margin:0;-webkit-text-size-adjust:100%;background-color:transparent;overflow:hidden}*{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-select:none;outline:0;-webkit-tap-highlight-color:transparent;-webkit-tap-highlight-color:transparent}body{-webkit-overflow-scrolling:touch;font-family:"Helvetica Neue",Helvetica,sans-serif;font-size:17px;line-height:21px;background-color:rgba(0,0,0,.7)}.container{position:absolute;width:100%;height:6.12rem;bottom:0}.header{position:relative}.header svg{display:block;width:100%}.icon-question{position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);display:block;margin-top:-.2rem;width:1.24rem;height:1.24rem;background-color:#50a2ef;border-radius:.6rem;padding:.21rem .35rem;z-index:1}.icon-question svg{display:block;height:.8rem}.checkbox{display:inline-block;position:relative;color:#59c2ff;font-weight:700;line-height:17px;height:17px;margin-right:1rem}.checkbox input{-webkit-appearance:none;display:inline-block;position:relative;border:1px solid #009cff;border-radius:5px;width:17px;height:17px;margin:0;padding:0;margin-right:5px;vertical-align:bottom}.checkbox input:after{position:absolute;top:0;left:0;content:\'\';display:block;width:15px;height:15px}.checkbox input:after{background:0 0}.checkbox input:checked:after{background:no-repeat center;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D\'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg\'%20x%3D\'0px\'%20y%3D\'0px\'%20viewBox%3D\'0%200%2012%209\'%20xml%3Aspace%3D\'preserve\'%3E%3Cpolygon%20fill%3D\'%23009cff\'%20points%3D\'12%2C0.7%2011.3%2C0%203.9%2C7.4%200.7%2C4.2%200%2C4.9%203.9%2C8.8%203.9%2C8.8%203.9%2C8.8%20\'%2F%3E%3C%2Fsvg%3E");-webkit-background-size:12px 9px;background-size:12px 9px}.content{height:3.75rem;background-color:#fff;margin-top:-1px;overflow:hidden;text-align:center}.content h1{font-size:15px;line-height:.58333rem;color:#000;margin:0;padding:.5rem 0 .3rem}.content .tips{margin-top:.2rem}.content .ad{padding:0 .14rem;height:2.08rem;overflow:hidden;text-align:center}.content .ad img{height:2.08rem;border:0}.content p{font-size:12px;line-height:.58333rem;color:#676767;margin:0}.content .shortcut{text-align:right;margin-top:5px}.footer{display:-webkit-flex;display:flex;-webkit-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-justify-content:center;justify-content:center;-webkit-align-content:center;align-content:center;-webkit-align-items:center;align-items:center;color:#434343;background-color:#f5f5f5;text-align:center;font-size:15px;border-top:1px solid #dcdcdc}.btn{flex:1;height:1.4722222222222223rem;padding:.5rem 0;line-height:normal}.btn.btn-primary{color:#50a2ef;font-weight:700;line-height:1.1;padding-top:.5rem}.btn:first-child{border-right:1px solid #dcdcdc}.btn div{font-size:10px;font-weight:400}.btn:last-child{border-left:1px solid #dcdcdc}</style></head><body><div class="container"><div class="header"><span class="icon-question"><svg viewBox="0 0 31.357 31.357"><path d="M15.255,0c5.424,0,10.764,2.498,10.764,8.473c0,5.51-6.314,7.629-7.67,9.62c-1.018,1.481-0.678,3.562-3.475,3.562   c-1.822,0-2.712-1.482-2.712-2.838c0-5.046,7.414-6.188,7.414-10.343c0-2.287-1.522-3.643-4.066-3.643   c-5.424,0-3.306,5.592-7.414,5.592c-1.483,0-2.756-0.89-2.756-2.584C5.339,3.683,10.084,0,15.255,0z M15.044,24.406   c1.904,0,3.475,1.566,3.475,3.476c0,1.91-1.568,3.476-3.475,3.476c-1.907,0-3.476-1.564-3.476-3.476   C11.568,25.973,13.137,24.406,15.044,24.406z" fill="#FFFFFF"></svg></span> <svg viewBox="0,0,360,33"><path d="M0 33 C 100 0, 260 0, 360 33" stroke="#dcdcdc" fill="#fff"></svg></div><div class="content"><h1>\u4f60\u786e\u5b9a\u8981\u9000\u51fa\u5417\uff1f</h1>{{W2A_QUIT_MSG}}</div><div class="footer"><div class="btn J_Feedback">\u53cd\u9988\u610f\u89c1</div><div class="btn J_Cancel">\u53d6\u6d88\uff0c\u518d\u770b\u770b</div><div class="btn btn-primary J_Quit">\u76f4\u63a5\u9000\u51fa<div>\u53cc\u51fb\u8fd4\u56de\u9000\u51fa</div></div></div></div><script>var ID="__W2A_QUIT_IFRAME",plus=window.parent.plus,openFeedback=function(){plus.nativeUI.showWaiting();var e=plus.webview.create("http://stream.cdn.aliyun.dcloud.net.cn/feedback/template/feedback.html","__W2A_FEEDBACK");e.addEventListener("titleUpdate",function(){plus.nativeUI.closeWaiting(),e.show("slide-in-right",300)}.bind(this))},closeQuit=function(){var e=window.parent.frames[ID];e&&(e.style.webkitTransform="translate(0,-100%)")},quit=function(){window.parent.plus&&window.parent.plus.runtime.quit()};window.addEventListener("touchmove",function(e){e.preventDefault()}),window.addEventListener("click",function(e){for(var t=e.target,n=!0;t&&t!==document;t=t.parentNode){var i=t.className;if("string"!=typeof i&&(i=""),~i.indexOf("J_Feedback")){n=!1,openFeedback();break}if(~i.indexOf("J_Cancel")){n=!1,closeQuit();break}if(~i.indexOf("J_Quit")){quit();break}if(~i.indexOf("container")){n=!1;break}}n&&closeQuit()});</script></body></html>'}},function(e,t,i){function n(e,t,i){var n=l[e];return n?void(n.authenticated?o(n,t,i):n.authorize(function(){o(n,t,i)},function(e){plus.nativeUI.alert("\u8ba4\u8bc1\u6388\u6743\u5931\u8d25"),i&&i(!1)})):(plus.nativeUI.alert("\u65e0\u6548\u7684\u5206\u4eab\u670d\u52a1["+e+"]"),void(i&&i(!1)))}function o(e,t,i){e.send(t,function(){plus.nativeUI.toast('\u5206\u4eab\u5230"'+e.description+'"\u6210\u529f\uff01'),i&&i(!0)},function(t){plus.nativeUI.toast('\u5206\u4eab\u5230"'+e.description+'"\u5931\u8d25\uff01'),i&&i(!1)})}function a(e,t,i){p.android&&d||t&&t(!1);var n=plus.android.importClass("android.content.Intent");if(s&&n){var o=new n(n.ACTION_SEND);o.setType("text/plain"),o.putExtra(n.EXTRA_TEXT,e.content),o.setFlags(n.FLAG_ACTIVITY_NEW_TASK),s.startActivity(n.createChooser(o,i||"\u7cfb\u7edf\u5206\u4eab")),t&&t(!0)}else t&&t(!1)}function r(e,t,i){if(!d)return void(t&&t(!1));if(e.href&&c.post("http://m3w.cn/sd/reg",{appid:plus.runtime.appid,deviceid:plus.device.imei,wap:e.href,stream:"url="+encodeURIComponent(e.href)},function(t){t&&0===t.ret&&(e.href=t.surl)}),!h&&l.weixin)plus.nativeUI.actionSheet({title:i||"\u5206\u4eab\u5230",cancel:"\u53d6\u6d88",buttons:[{title:"\u5fae\u4fe1\u6d88\u606f"},{title:"\u5fae\u4fe1\u670b\u53cb\u5708"},{title:"\u66f4\u591a\u5206\u4eab"}]},function(o){var r=o.index;switch(r){case 1:e.extra={scene:"WXSceneSession"},n("weixin",e,t);break;case 2:e.title=e.content,e.extra={scene:"WXSceneTimeline"},n("weixin",e,t);break;case 3:var s=e.href?"\uff08"+e.href+"\uff09":"";e.title=e.title+s,e.content=e.content+s,a(e,t,i)}});else{var o=e.href?"\uff08"+e.href+"\uff09":"";e.title=e.title+o,e.content=e.content+o,a(e,t)}}var s,p=i(7),c=i(13),l={},h=!1,d=!1,u=function(){var e=plus.runtime.innerVersion.split(".");h=e[e.length-1]<20133,p.android&&(s=plus.android.runtimeMainActivity()),h||plus.share.getServices(function(e){for(var t=0,i=e.length;i>t;t++){var n=e[t];l[n.id]=n}}),d=!0};e.exports={init:u,open:r,openSystem:a}},function(e,t,i){var n=function(e,t,i,n){"function"==typeof i&&(n=i,i=!1);var o=new plus.net.XMLHttpRequest;n&&(o.onreadystatechange=function(){4==o.readyState&&(200==o.status?n&&n(JSON.parse(o.responseText)):n&&n(!1))});var a=[];if(i)for(var r in i)i.hasOwnProperty(r)&&a.push(encodeURIComponent(r)+"="+encodeURIComponent(i[r]));a.length&&"GET"===e&&(t=(t+"&"+a.join("&")).replace(/[&?]{1,2}/,"?")),o.open(e,t),"POST"===e&&o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send("POST"===e?a.join("&"):!1)};e.exports={post:function(e,t,i){n("POST",e,t,i)},get:function(e,t,i){n("GET",e,t,i)}}},function(e,t,i){var n=i(13),o=function(e,t,i,o,a){if(a=a||1,!(Math.random()>a)){var r={appid:plus.runtime.appid,app_version:plus.runtime.version,type:e||5,url:t||"",webview_id:i||"",message:o||"",p:"iOS"===plus.os.name?"i":"a",os:plus.os.version,imei:plus.device.imei,md:plus.device.model,net:plus.networkinfo.getCurrentType(),plus_version:plus.runtime.innerVersion};n.post("https://stream.dcloud.net.cn/wap2app/monitor",r)}};e.exports={css:function(e,t,i,n){o(1,e,t,i,n)},dom:function(e,t,i,n){o(2,e,t,i,n)},pathname:function(e,t,i,n){o(3,e,t,i,n)},sms:function(e,t,i,n){o(4,e,t,i,n)},other:function(e,t,i,n){o(5,e,t,i,n)}}},function(e,t){var i=function(e,t,i,n){n=n||1;var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var a="expires="+o.toUTCString();plus.navigator.setCookie(e,t+"="+i+"; "+a)},n=function(e,t){var i=t+"=",n=plus.navigator.getCookie(e);if(n){n=n.split(";");for(var o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(i))return a.substring(i.length,a.length)}}return""},o=function(e,t){i(e,t,"",-1)};e.exports={set:i,get:n,remove:o}},function(e,t){var i=/\+/g,n=/([^&=]+)=?([^&]*)/g,o=function(e){var t={};if(e=e&&(0===e.indexOf("?")?e.replace("?",""):e))for(var i;i=n.exec(e);)t[a(i[1])]=a(i[2]);return t},a=function(e){return decodeURIComponent(e.replace(i," "))},r=function(e){var t=e||plus.runtime.arguments;if(t&&"string"==typeof t){if(~t.indexOf("//"))t=t.split("//"),t=t.length>1?t[1]:"";else if(t){try{var i=JSON.parse(t);i&&(t=i)}catch(n){}"string"==typeof t&&(t=o(t),t.arg&&(t=decodeURIComponent(t.arg)))}return"string"==typeof t&&(t=o(t)),t}return{}};e.exports=r},function(e,t,i){var n=(i(6),i(11)),o=function(e){this._init(e)},a='<div class="ad"><img src="{{AD_IMG_URL}}" /></div>',r='<div class="tips"><p>\u6b22\u8fce\u7ee7\u7eed\u4f7f\u7528\u6d41\u5e94\u7528\u7248\u672c</p><p>\u7701\u6d41\u91cf\u3001\u7701\u7a7a\u95f4\u3001\u7701\u7535\u3001\u79d2\u5f00\u3001\u79d2\u66f4\u65b0</p><!--<div class="shortcut"><div class="checkbox"><input id="shortcut" type="checkbox" checked="" /><label for="shortcut">\u4fdd\u7559\u684c\u9762\u56fe\u6807</label></div></div>--></div>',s=o.prototype;s._init=function(e){var t=document.getElementById(n.W2A_QUIT_IFRAME_ID);if(!t){t=document.createElement("iframe"),t.id=n.W2A_QUIT_IFRAME_ID,t.allowtransparency="true",t.setAttribute("style",n.W2A_QUIT_IFRAME_STYLE),document.body.appendChild(t);var i=t.contentWindow.document;i.designMode="on",i.open(),i.write(this._getHTML(e)),i.close(),i.designMode="off"}return t},s._getHTML=function(e){var t=n.W2A_QUIT_IFRAME_HTML;return e&&e.img?t.replace("{{W2A_QUIT_MSG}}",a.replace("{{AD_IMG_URL}}",e.img)):t.replace("{{W2A_QUIT_MSG}}",r)},s.isVisible=function(){var e=document.getElementById(n.W2A_QUIT_IFRAME_ID);return!(!e||~e.getAttribute("style").indexOf("-100%"))},s.open=function(e){var t=this._init(e);t&&(t.style.webkitTransform="translate(0,0)")},s.close=function(){var e=document.getElementById(n.W2A_QUIT_IFRAME_ID);e&&(e.style.webkitTransform="translate(0,-100%)")},s.remove=function(){var e=document.getElementById(n.W2A_QUIT_IFRAME_ID);e&&e.parentNode.removeChild(e)},e.exports=o},function(module,exports,__webpack_require__){var _=__webpack_require__(6),dom=__webpack_require__(9),spa=__webpack_require__(8),gps=__webpack_require__(19),share=__webpack_require__(12),Const=__webpack_require__(11),W2AWebview=function(e){this._init(e)},proto=W2AWebview.prototype;proto._init=function(e){this.webview=!1,this.options=e,this._initWebview()},proto._initWebview=function(){var options=this.options;if(_.plusReady(function(){this.webview=plus.webview.currentWebview();var e=this.webview.__wap2app_opener_id;this.opener=e?plus.webview.getWebviewById(e):!1,this.opener&&(document.referrer=this.opener.getURL()),this._handleBack(),this._handleGps(),this._handleNativeView(),this._handleShare()}.bind(this)),options.injectStyle&&dom.ready(function(){var e=document.createElement("style");e.appendChild(document.createTextNode(options.injectStyle)),document.head.appendChild(e)}),options.injectScript)try{"function"==typeof options.injectScript?(options.injectScript=Function.prototype.toString.call(options.injectScript),eval("("+options.injectScript+")()")):eval("("+options.injectScript+")")}catch(e){console.log(e)}setTimeout(function(){dom.ready(function(){options.group&&options.group.activate&&this._handleGroupActivate(options.group.activate),this._handleFixed()}.bind(this))}.bind(this),200)},proto._handleNativeView=function(){if(_.supportNativeObj()){var e=this.options.screenshot&&this.options.screenshot.view;if(e&&e.enable&&("dock"===e.styles.position||e.interceptTouchEvent)){var t=plus.nativeObj.View.getViewById(this.webview.id+"_nativeView");if(t&&"function"==typeof t.addEventListener){var i=e.click;i&&t.addEventListener("click",function(e){for(var t in i)if(i.hasOwnProperty(t)){var n=i[t];if(_.isCross(e.pageX,e.pageY,n.rect)){n.handle();break}}}.bind(this))}}}},proto._handleGps=function(){var e=this.options;if(e.gps.enable){var t=plus.storage.getItem(Const.W2A_GPS_TIME);(!t||_.now()-parseInt(t,10)>60*e.gps.interval*1e3)&&setTimeout(function(){this._checkGps()}.bind(this),10)}},proto._checkGps=function(){var e=this.options.gps;gps.isEnabled(e.disabledMsg)?gps.checkPermission(function(){this.webview.reload()}.bind(this),e.forbiddenMsg)&&plus.storage.setItem(Const.W2A_GPS_TIME,_.now()+""):plus.storage.setItem(Const.W2A_GPS_TIME,_.now()+"")},proto._handleGroupActivate=function(e){if(e&&_.isObject(e)&&e.container&&e.itemMatch&&e.itemActiveClass){var t=document.querySelector(e.container);if(t){for(var i=e.activate,n=e.deactivate,o=e.itemMatch,a=e.attribute,r="",s=e.itemActiveClass||"",p=e.itemActiveClass.split(" "),c=0;c<p.length;c++)r+="."+p[c].replace(/\s+/g,"");i||(i=function(e){for(var i=e;i&&i!==t;i=i.parentNode)if(dom.elementMatch(i,o)){i.className+=" "+s;break}}),n||(n=function(e){for(var i=e;i&&i!==t;i=i.parentNode)if(dom.elementMatch(i,o)){i.className=i.className.replace(s,"");break}});var l=t.querySelector(r);t.addEventListener("click",function(e){for(var t=e.target;t&&t!==document;t=t.parentNode)if("A"===t.tagName){var o="";if(a&&(o=t.getAttribute(a)),o||(o=t.href),o){var r=dom.getLocation(o);if(~["http:","https"].indexOf(r.protocol)){o=r.href,e.preventDefault(),e.stopPropagation(),n(l),i(t),setTimeout(function(e,t){n(t),i(e)},150,l,t),setTimeout(function(e){wap2app.open(e)},10,o);break}}}}.bind(this),!0)}}},proto._handleShare=function(){this.options.share&&share.init()},proto._handleFixed=function(){
var e=this.options.fixed;_.isArray(e)||(e=[e]);for(var t=0;t<e.length;t++){var i=e[t];if(_.isObject(i)&&i.selector){var n=document.querySelector(i.selector);if(n){var o=dom.getStyles(n,"position");if("fixed"!==o){var a=i.styles;if(a)for(var r in a)a.hasOwnProperty(r)&&(n.style[r]=a[r]);n.style.position="fixed";var s=document.createElement("div");s.className="__wap2app_fixed_placeholder",s.setAttribute("style","height:"+n.offsetHeight+"px;width:100%;"),n.parentNode.insertBefore(s,n)}}}}},proto._handleBack=function(){this.options.back.enable&&(this._overrideHistory(),this._handleBackClick(),this.options.back.backbutton&&this._handleBackButtonClick(),this.opener&&plus.storage.removeItem(Const.W2A_WEBVIEW_LOADING+this.opener.id))},proto._handleBackButtonClick=function(){plus.key.addEventListener("backbutton",function(){this.back()}.bind(this))},proto._handleBackClick=function(){var e=this.options.back,t=e.selector;t&&window.addEventListener(e.eventType,function(e){var i=document.querySelectorAll(t);if(i&&i.length)for(var n=e.target;n&&n!==document;n=n.parentNode)for(var o=0,a=i.length;a>o;o++)if(n===i[o])return this.back(),e.preventDefault(),e.stopPropagation(),!0}.bind(this),!0)},proto._overrideHistory=function(){if(this.options.back.override){var e=this,t=function(t){return function(i){location.hash?t.apply(window.history,[i]):e.back()}};window.history.back=t(window.history.back),window.history.go=t(window.history.go)}},proto._handleBeforeBack=function(e){if(e&&(("function"==typeof e||_.isObject(e))&&(e=[e]),_.isArray(e)&&e.length))for(var t=0;t<e.length;t++){var i=e[t];if("function"==typeof i&&i()===!1)return!1;if(_.isObject(i))for(var n in i)if(i.hasOwnProperty(n)){var o=i[n];"string"==typeof o&&(o={selector:o,eventType:"click"});var a=document.querySelectorAll(n);if(a&&a.length)for(var r=0;r<a.length;r++){var s=a[r];if(s&&"none"!==dom.getStyles(s,"display")){var p=!1;if(p=o.selector?document.querySelector(o.selector):s)return wap2app.trigger(p,o.eventType),!1}}}}return!0},proto._quit=function(){plus.runtime.quit()},proto.quit=function(){var e=wap2app.getW2AQuit(),t=e.isVisible();this._lastQuitTime=this._lastQuitTime||_.now(),t?_.now()-this._lastQuitTime>2e3?e.close():this._quit():(e.open(),this._lastQuitTime=_.now())},proto.open=function(e){wap2app.open(e)},proto.back=function(){var e=this.options,t=e.back,i=(t.beforeBack,this._handleBeforeBack(t.beforeBack));if(i!==!1){var n=e.show,o=n.aniShow||"pop-in",a=n.duration||300;o=~o.indexOf("in")?o.replace("in","out"):o.replace("out","in");var r=e.parent&&"browser"!==e.parent?this.webview.parent():this.webview,s=t.history,p=!0;"boolean"==typeof s?p=s:s&&(p=_.isMatch(window.location,{matchPathnames:s}));var c=!1;"function"==typeof t.handle&&(c=t.handle(r,p,e)),c===!1&&("spa"===e.mode?this.webview.canBack(function(e){e.canBack?spa.back(o,a,function(e){history.back()},{showWaiting:t.showWaiting,delay:t.delay}):wap2app.back(p)}.bind(this)):wap2app.back(p))}},module.exports=W2AWebview},function(e,t,i){var n=i(7),o=i(20),a=["\u786e\u5b9a","\u53d6\u6d88"],r=!1;e.exports={isEnabled:function s(e,t){if("iOS"===plus.os.name)return!0;if(!r){var s=!0;try{var i=plus.android.runtimeMainActivity(),n=i.getSystemService("location"),p=plus.android.importClass(n),c=n.isProviderEnabled(p.GPS_PROVIDER);c||(s=!1)}catch(l){s=!1}return s||("function"==typeof e&&(t=e,e=""),(e||t)&&(e=e||"\u672c\u673a\u672a\u5f00\u542f\u5b9a\u4f4d\u529f\u80fd\uff0c\u70b9\u786e\u5b9a\u8fdb\u5165\u8bbe\u7f6e\u5f00\u542f\u5b9a\u4f4d\u529f\u80fd","Android"===plus.os.name&&(r=!0,plus.nativeUI.confirm(e,function(e){0===e.index?(o.openLocationSource(),t&&t()):r=!1},"\u63d0\u793a",a)))),s}},checkPermission:function(e,t,i){if("iOS"===plus.os.name)return!0;if(!r){var s=!0;try{var p=plus.android.runtimeMainActivity(),c=plus.android.importClass("android.os.Build"),l=(plus.android.importClass("android.provider.Settings"),plus.android.importClass("android.content.Context"));if(c.VERSION.SDK_INT>=19){var h=p.getSystemService(l.APP_OPS_SERVICE),d=plus.android.importClass(h),u=p.getPackageManager();plus.android.importClass(u);var w=u.getPackageInfo(p.getPackageName(),0),f=plus.android.getAttribute(plus.android.getAttribute(w,"applicationInfo"),"uid"),v=p.getPackageName();"io.dcloud.streamapp"===v&&(v="com.qihoo.appstore");var _=h.checkOp(d.OPSTR_COARSE_LOCATION,f,v);if(_==d.MODE_ERRORED){var b;b=plus.android["implements"]("android.app.AppOpsManager$OnOpChangedListener",{onOpChanged:function(t,i){var n=h.checkOp(d.OPSTR_COARSE_LOCATION,f,v);t==d.OPSTR_COARSE_LOCATION&&n==d.MODE_ALLOWED&&(e&&e(),h.stopWatchingMode(b))}}),h.startWatchingMode(d.OPSTR_COARSE_LOCATION,v,b),s=!1}}}catch(m){console.log(m)}return s||("function"==typeof t&&(i=t,t=""),(t||i)&&(t=t||"\u5c1a\u672a\u8d4b\u4e88\u83b7\u53d6\u4f4d\u7f6e\u7684\u6743\u9650\u3002\u70b9\u786e\u5b9a\u8fdb\u5165\u8bbe\u7f6e\uff0c\u7ed9{app}\u8d4b\u4e88\u5b9a\u4f4d\u6743\u9650",plus.runtime.getProperty(plus.runtime.appid,function(e){var s=e.name;n.qihoo?s="360\u624b\u673a\u52a9\u624b":n.stream&&(s="\u6d41\u5e94\u7528"),t=t.replace("{app}",s),"Android"===plus.os.name&&(r=!0,plus.nativeUI.confirm(t,function(e){0===e.index?(o.openApplicationDetail(),i&&i()):r=!1},"\u63d0\u793a",a))}))),s}}}},function(e,t,i){var n,o,a,r,s=i(7),p=function(){s.android&&(n=plus.android.runtimeMainActivity(),o=plus.android.importClass("android.content.Intent"),a=plus.android.importClass("android.provider.Settings"),r=plus.android.importClass("android.net.Uri"))};e.exports={openLocationSource:function(){n||p(),n&&n.startActivity(new o(a.ACTION_LOCATION_SOURCE_SETTINGS))},openApplicationDetail:function(){n||p(),n&&n.startActivity(new o(a.ACTION_APPLICATION_DETAILS_SETTINGS,r.parse("package:"+n.getPackageName())))},openAirPlaneModeSetting:function(){n||p(),n&&n.startActivity(new o(a.ACTION_AIRPLANE_MODE_SETTINGS))}}},function(e,t,i){var n=i(6),o=i(9),a=i(22),r=i(8),s=i(16),p=i(11),c=i(23),l={},h={},d=p.SCREENSHOT_PATH,u=function(e){this.options=e.globalOptions,this.w2aOptions=e,this.loading=!1,this.backing=!1,this.nativeObjViews={},this.nativeObjBitmaps={},this.appName="",this._init()},w=u.prototype;w._init=function(){this._initInfo(),this._initStack(),this._initEvent(),this._initSmsListener(),this._initScreenshots(),this._initBrowser(),this._initArgs()},w._initInfo=function(){var e=p.W2A_APP_NAME+"_"+plus.runtime.version;this.appName=plus.storage.getItem(e),this.appName||plus.runtime.getProperty(plus.runtime.appid,function(t){this.appName=t.name,plus.storage.setItem(e,this.appName)}.bind(this))},w._initArgs=function(){var e=s();e&&e.url&&wap2app.open(e.url,"",plus.runtime.appid)},w._addContext=function(e){l[e.id]=e},w.removeContext=function(e,t){if(e===plus.runtime.appid)return!1;var i=l[e];if(i&&(i.clear(),delete l[e],t!==!1&&i.options.group))for(var n=i.webview.__wap2app_group.split(p.W2A_GROUP_SPLIT),o=0,a=n.length;a>o;o++)this.removeContext(n[o],!1)},w.getContext=function(e){return l[e]},w.getContexts=function(){return l},w.currentContext=function(){for(var e=plus.webview.all(),t=e.length-1;t>=0;t--){var i=e[t];if("normal"===i.__wap2app_type||i.id===plus.runtime.appid)return l[i.id]}return!1},w.size=function(){var e=0;for(var t in l)++e;return e},w.clearContext=function(){for(var e in l)e!==plus.runtime.appid&&this.removeContext(e)},w._initStack=function(){var e=this.w2aOptions.homeWebviewOptions;this._addContext(new c(this,e.url,e,void 0,!0)),this._preloadWebviewContext(e)},w._initEvent=function(){document.addEventListener("newintent",function(){this._initArgs()}.bind(this),!1),plus.key.addEventListener("backbutton",function(){this.back()}.bind(this))},w._initSmsListener=function(e){var t=this.options.sms;if("function"==typeof t)setTimeout(function(){a.register(function(e){for(var i=0,n=e.length;n>i&&!t(e[i].getDisplayMessageBody());i++);})},100);else if(n.isObject(t)){var i=t.callback;if(n.isObject(t.callback)&&t.callback.webviewId){var o=t.callback.handle,r=t.callback.webviewId;"function"==typeof r&&(r=r()),"string"==typeof r&&(r=[r]),n.isArray(r)&&r.length&&(i=function(e){for(var t=0;t<r.length;t++){var i=plus.webview.getWebviewById(r[t]);if(i){i.evalJS("("+Function.prototype.toString.call(o)+")("+e+")");break}}})}if("function"==typeof i){var s=t.match;setTimeout(function(){a.register(function(e){for(var t=0,n=e.length;n>t;t++){var o=e[t].getDisplayMessageBody();if(~o.indexOf(s.sign)){var a=new RegExp("([0-9]{"+s.length+"})"),r=o.match(a);if(r&&2===r.length){i(r[1]);break}}}})},100)}}},w._initScreenshots=function(){var e=this;d=d+plus.runtime.appid+"/";var t=e.w2aOptions.webviewsOptions;for(var i in t){var o=t[i].screenshot;if(o&&o.url){var a=o.url;"string"==typeof a&&(a=[a]);for(var r=0;r<a.length;r++)h[a[r]]=!1}}setTimeout(function(){n.supportNativeObj()&&e._initNativeObjView(),e._initScreenshotWebview()},100)},w._initScreenshotWebview=function(){var e=this;for(var t in h)if(h.hasOwnProperty(t)&&!h[t]){if(h[t]=!0,n.supportNativeObj()){var i=new plus.nativeObj.Bitmap(t);i.load(d+encodeURIComponent(t)+".png",function(){e._initScreenshotWebview()},function(n){i.clear(),i=null,e._initNativeObjScreenshotWebview(t)})}else{var o=plus.webview.create("_www/"+t,t,null,{__wap2app_type:"screenshot"});o.addEventListener("loaded",function(){e._initScreenshotWebview()})}break}},w._initNativeObjView=function(){var e=new plus.nativeObj.View(p.W2A_VIEW_ID);e.show(),e.hide(),"function"==typeof e.addEventListener&&e.addEventListener("click",function(e){var t=e.pageX,i=e.pageY;60>=t&&60>=i&&wap2app.getContext().back()}),"function"==typeof e.interceptTouchEvent&&e.interceptTouchEvent(!0),this.nativeObjViews[e.id]=e;var t=new plus.nativeObj.View(p.W2A_OTHER_VIEW_ID);t.show(),t.hide(),"function"==typeof t.interceptTouchEvent&&t.interceptTouchEvent(!0),this.nativeObjViews[t.id]=t,this.nativeObjBitmaps[p.W2A_BITMAP_ID]=new plus.nativeObj.Bitmap(p.W2A_BITMAP_ID),this.nativeObjBitmaps[p.W2A_OTHER_BITMAP_ID]=new plus.nativeObj.Bitmap(p.W2A_OTHER_BITMAP_ID)},w._initNativeObjScreenshotWebview=function(e){var t=this,i=function(e){var i=e.id;if(!(window.innerHeight+100<plus.display.resolutionHeight)){if("file:///android_asset/data/error.html"===e.getURL())return void e.close("auto");var n=new plus.nativeObj.Bitmap(i);e.draw(n,function(){n.save(d+encodeURIComponent(i)+".png",{},function(){t.nativeObjBitmaps[i]=n,e.close("auto"),t._initScreenshotWebview()},function(e){n.clear(),n=null,t._initScreenshotWebview()})},function(e){n.clear(),n=null,t._initScreenshotWebview()})}},n=plus.webview.getWebviewById(e);n?setTimeout(function(){i(n)},350):(n=plus.webview.create("_www/"+e,e,null,{__wap2app_type:"screenshot"}),n.addEventListener("loaded",function(){setTimeout(function(){i(n)},200)}))},w._initBrowser=function(){this.getBrowser()},w.getBrowser=function(e){var t=this,i=e&&o.getLocation(e)||{},a=plus.webview.getWebviewById(p.W2A_BROWSER_ID);if(a)a.setStyle(this._getBrowserStyles(i));else{var r=this.w2aOptions.globalOptions.browser,s=r.url;"function"==typeof s&&(s=s(i.pathname,i)),s||(s="__wap2appbrowser.html"),a=plus.webview.create("_www/"+s,p.W2A_BROWSER_ID,this._getBrowserStyles(i),{__wap2app_type:"parent",__wap2app_parent_type:"browser"});var c=function(){var e=[],i=n.extend(t.options.browser),o=t.options.browser.styles;for(var r in o)if(o.hasOwnProperty(r)){var s=[],p=o[r];for(var l in p)s.push(l+":"+p[l]+";");e.push(r+"{"+s.join("")+"}")}i.styles=e.join(""),a.evalJS("wap2app_browser.init('"+JSON.stringify(i)+"')"),a.removeEventListener("loaded",c)};a.addEventListener("loaded",c)}return a},w._getBrowserStyles=function(e){var t=this.w2aOptions.globalOptions.browser,i={hardwareAccelerated:!0,popGesture:"hide",height:parseInt(t.header.height,10)+1},n=t.dock;"function"==typeof n&&(n=n(e.pathname||"",e));"undefined"!=typeof t.pullToRefresh;return n?(i.position="dock",i.dock="top"):(i.position="absolute",i.dock=""),i},w._openBySpa=function(e,t,i){r.open(t,e.id,"replace"===i)},w._openBySelf=function(e,t,i,n,o){e.overrideUrlLoading({mode:"allow",match:p.W2A_OVERRIDE_MATCH}),setTimeout(function(){"reload"===n?e.evalJS("window.location.reload();"):o?this._openBySpa(e,t,n):"replace"===n?e.evalJS('window.location.replace("'+t+'");'):e.evalJS('window.location.href = "'+t+'";');var i=this.getContext(e.id);i&&i.handleOverrideUrlLoadingReject()}.bind(this),50)},w._openByScheme=function(e,t){e.overrideUrlLoading({mode:"allow",match:p.W2A_OVERRIDE_MATCH}),setTimeout(function(){e.evalJS('window.location.href="'+t+'";');var i=this.getContext(e.id);i&&i.handleOverrideUrlLoadingReject()}.bind(this),50)},w._openByBlank=function(e,t,i,n){var a=this;if(i=i||"",!a.loading){var r=function(){t=o.getLocation(t).href;var r=a.w2aOptions.getWebviewOptionsByUrl(t);r.url=t,r.title=i,setTimeout(function(){a.loading=!1},r.group?0:1500),r.isHome&&a.clear(),a._addContext(new c(a,t,r,e.id,!1,n)),a._preloadWebviewContext(r)};a.loading=!0,window.innerHeight+100<plus.display.resolutionHeight?(document.activeElement.blur(),setTimeout(function(){r()},300)):r()}},w._preloadWebviewContext=function(e){if(e.preload){var t=e.preload;"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++){var n=wap2app.getW2AOptions().getWebviewOptionsById(t[i]);n.extras.__wap2app_preload=!0,new c(this,n.url,n,e.id,!0)}}},w.open=function(e,t,i,n,a,r,s){e=e||"blank",a=a||"href",r=r!==!1;var p=o.getLocation(i);if("self"===e){if(!~["http:","https:","file:"].indexOf(p.protocol))return void this._openByScheme(t,i);this._openBySelf(t,i,n,a,r)}else"blank"===e&&this._openByBlank(t,i,n,s)},w._back=function(e){var t=this.currentContext();t&&t.back(e)};var f=!1;w.back=function(e){var t=n.now();f&&500>t-f&&this.size()>1||(f=t,this._back(e))},w.close=function(){var e=this.currentContext();e&&e.close()},w.quit=function(){this.size()&&this.getContext(plus.runtime.appid).quit()},w.getWebviewContextById=function(e){return this.getContext(e)},w.clear=function(){this.clearContext(),setTimeout(function(){for(var e=plus.webview.all(),t=0,i=e.length;i>t;t++){var n=e[t];if("normal"===n.__wap2app_type&&!n.__wap2app_preload&&n.id!==plus.runtime.appid){var o=n.parent();o?o.close("none"):n.close("none")}}},20)},w.getViewById=function(e){var t=this.nativeObjViews[e];return t||(t=plus.nativeObj.View.getViewById(e),this.nativeObjViews[e]=t),t},w.getBitmapById=function(e){var t=this.nativeObjBitmaps[e];return t||(t=plus.nativeObj.Bitmap.getBitmapById(e),this.nativeObjBitmaps[e]=t),t},e.exports=u},function(e,t,i){var n,o,a,r=i(6).plusReady,s=[],p=!1,c=!1,l=!1,h=function(e){if("Android"===plus.os.name)try{var t=plus.runtime.innerVersion.split(".");l=parseInt(t[t.length-1])<22298,a=plus.android.runtimeMainActivity();var i=(plus.android.importClass("android.content.Intent"),plus.android.importClass("android.content.IntentFilter")),r=plus.android.importClass("android.telephony.SmsMessage"),p="io.dcloud.feature.internal.reflect.BroadcastReceiver";l&&(p="io.dcloud.feature.internal.a.a"),o=new i;var c=function(e,t){try{var i=t.getAction();if("android.provider.Telephony.SMS_RECEIVED"==i){for(var n=t.getSerializableExtra("pdus"),o=[],a=0,p=n.length;p>a;a++)o.push(r.createFromPdu(n[a]));for(var a=0,p=s.length;p>a;a++)s[a](o)}}catch(c){}};n=plus.android["implements"](p,{a:c,onReceive:c}),o.addAction("android.provider.Telephony.SMS_RECEIVED"),e&&e()}catch(h){}},d=function(e){if(s.push(e),p){if(!c)try{l?a.a(n,o):a.registerReceiver(n,o)}catch(t){}}else p=c=!0,r(function(){h(function(){setTimeout(function(){try{l?a.a(n,o):a.registerReceiver(n,o)}catch(e){}},300)})})},u=function(e,t){for(var i=0,o=s.length;o>i;i++)s[i]===e&&s.splice(i,1);if(t&&!s.length&&a&&c){try{l?a.a(n):a.unregisterReceiver(n)}catch(r){}c=!1}};e.exports={register:d,unregister:u}},function(e,t,i){var n=i(6),o=i(9),a=i(8),r=i(20),s=i(15),p=i(11),c=i(10),l=function(e,t,i,n,o,a){i||(i=t,t=!1),this._init(e,i,a),this._create(n,o)},h=l.prototype;h._init=function(e,t,i){this.w2aContext=e,this.id=t.id,this.uuid=n.now(),this.opener=!1,this.webview=!1,this.relatedView=!1,this.nativeView=!1,this.titleUpdateTimer=!1,this.canTitleUpdateTimer=!1,this.backing=!1,this.showing=!1,this.shown=!1,this.loaded=!1,this.cleared=!1,this.animating=!1,this.canTitleUpdate=!1,this.history=[],this.options=t,this.callback=i,this.redirect_url=!1},h._create=function(e,t){n.plusReady(function(){this._hasNetwork()&&this._createWebview(e,t)}.bind(this))},h._createWebview=function(e,t){var i=this.options;this.opener=e&&plus.webview.getWebviewById(e),this.webview=plus.webview.getWebviewById(i.id),i.id===plus.runtime.appid&&(this.shown=!0);var a=!1;if(!this.opener||this.opener.id!==i.id){var r=this.opener&&this.opener.__wap2app_group,s=i.extras.__wap2app_group;if(!r&&this.opener){var c=this.w2aContext.w2aOptions.homeWebviewOptions;this.opener.id===plus.runtime.appid&&(r=c.extras.__wap2app_group)}s&&s===r&&(a=!0)}if(this.webview&&this.webview.id!==plus.runtime.appid&&!a&&(this.webview.id!==e&&this.webview.close("none"),this.webview=null),this.webview){if(this.webview.__wap2app_preload,i.isHome&&(this.canTitleUpdate=!0),!i.isHome&&this.webview.__wap2app_event||this._initPlusWebview(),t)return this.titleUpdateTimer&&clearTimeout(this.titleUpdateTimer),void(this.loadedTimer&&clearTimeout(this.titleUpdateTimer));!!this.webview.__wap2app_group||!!i.group;if(i.url){this._initOverrideResourceRequest();var l=!1;if("boolean"!=typeof i.reload?l=n.isMatch(o.getLocation(i.url),{matchPathnames:i.reload}):i.reload&&(l=!0),l||(l=!!this.webview.__wap2app_preload),l?(i.id!==e&&this._createScreenShot(),this.webview.overrideUrlLoading({mode:"allow",match:p.W2A_OVERRIDE_MATCH}),setTimeout(function(){this.webview.evalJS('window.location.replace("'+i.url+'")'),this.handleOverrideUrlLoadingReject()}.bind(this),50)):(this.titleUpdateTimer&&clearTimeout(this.titleUpdateTimer),this.loadedTimer&&clearTimeout(this.titleUpdateTimer),setTimeout(function(){plus.nativeUI.closeWaiting()},30)),this.webview.__wap2app_preload)this.webview.setStyle({zindex:0}),this._createAppend();else{var h=(i.show,"none"),d=0,u=i.parent&&"browser"!==i.parent?this.webview.parent():this.webview;u||(u=this.webview),"browser"===u.__wap2app_parent_type&&this.webview.clear(),u.hide("none"),setTimeout(function(){u.show(h,d,function(){plus.nativeUI.closeWaiting()}.bind(this))}.bind(this),50)}}}else this.opener.id===i.id||a||("browser"!==i.parent&&(t||this._createScreenShot()),t||this._createAppend()),i.extras.__wap2app_opener_id=e,i.extras.__wap2app_event=!t,i.extras.__wap2app_url=i.url,i.extras.__wap2app_preload&&(i.styles.zindex=-1),this.webview=plus.webview.create(i.url,i.id,i.styles,i.extras),t||this._prepareLoading(),i.listenResourceLoading&&i.listenResourceLoading.match&&this._listenResourceLoading(),this._initOverrideResourceRequest(),this.webview.overrideUrlLoading({mode:"allow",match:p.W2A_OVERRIDE_MATCH},function(e){}.bind(this)),a&&!t?this._createGroupScreenshot():r&&setTimeout(function(e){this._clearGroup(e)}.bind(this),500,r),this._isBrowserWebview()?(this.webview.append(this.relatedView),this.webview.show(i.show.aniShow,i.show.duration)):this._hasParentWebview()&&(this.webview.hide(),this.relatedView.append(this.webview)),this._hasNativeView()&&this.webview.append(this.nativeView.view),t||this._initPlusWebview()},h._clearGroup=function(e){for(var t=e.split(p.W2A_GROUP_SPLIT),i=0,n=t.length;n>i;i++){var o=t[i];this.opener.id!==o&&o!==plus.runtime.appid&&plus.webview.close(o,"none")}},h._listenResourceLoading=function(){"function"==typeof this.webview.listenResourceLoading&&this.webview.listenResourceLoading({match:this.options.listenResourceLoading.match},function(e){}.bind(this))},h._initOverrideResourceRequest=function(){if("function"==typeof this.webview.overrideResourceRequest){var e=this.options.overrideResourceRequest;n.isObject(e)&&(e=[e]),e&&e.length&&this.webview.overrideResourceRequest(e)}},h._initPlusWebview=function(){var e=this.options;if(!e.isHome){this.webview.appendJsFile("_www/__wap2app.js"),this.webview.appendJsFile("_www/__wap2appconfig.js");var t=e.appendJsFile;if("string"==typeof t&&t&&(t=[t]),n.isArray(t))for(var i=0,o=t.length;o>i;i++)t[i]&&this.webview.appendJsFile("_www/"+t[i])}if(this._handleEvent(),this.handleOverrideUrlLoadingReject(),e.pullToRefresh&&e.pullToRefresh.support){var a=e.pullToRefresh.callback;this.webview.setPullToRefresh(e.pullToRefresh,function(){a?a(this.webview):(this.webview.endPullToRefresh(),this.webview.reload())}.bind(this))}},h._hasNativeView=function(){return!!this.nativeView},h._hasParentWebview=function(){return this.relatedView&&"parent"===this.relatedView.__wap2app_type},h._hasScreenshot=function(){return this.relatedView&&"screenshot"===this.relatedView.__wap2app_type},h._isBrowserWebview=function(){return this._hasParentWebview()&&"browser"===this.relatedView.__wap2app_parent_type},h._createGroupScreenshot=function(){if(n.supportNativeObj()){var e=this.options.group,t=plus.nativeObj.Bitmap.getBitmapById(p.W2A_BITMAP_ID);t&&(this.relatedView=new c(t.id,this.opener,e),this.relatedView.__wap2app_type="screenshot",this.relatedView.__wap2app_animate="group",this.relatedView.show("none",0,function(e){e||(this.relatedView=!1)}.bind(this)))}},h._createScreenShot=function(){var e=this.options.show,t=this.options.screenshot,i=!0;if(t&&t.url){var o=this._getScreenshot();o&&(i=!1,n.supportNativeObj()?(!this.nativeView&&this._createNativeView(),this._drawTexts&&(t=n.extend(t,{drawText:this._drawTexts})),this.relatedView=new c(o,this.opener,t),this.relatedView.__wap2app_type="screenshot",this.relatedView.show(e.aniShow,e.duration,function(e){e?this.animating=!0:(this.relatedView=!1,this._createScreenShotFallback(o,this.options.show))}.bind(this),function(){this.canTitleUpdate=!0}.bind(this))):(this.relatedView=!1,this._createScreenShotFallback(o,this.options.show)))}i&&(this.canTitleUpdate=!0)},h._getScreenshot=function(){if("function"==typeof this.options.screenshot.handle){var e=o.getLocation(this.options.url);return this.options.screenshot.handle(e.pathname,e)}return this.options.screenshot.url},h._createNativeView=function(){var e=this.options.screenshot;if(e.view&&e.view.enable){var t=this._getScreenshot(),i=plus.nativeObj.Bitmap.getBitmapById(t);if(i){var n=e.view,o=this.options.id+"_nativeView";this.nativeView=new c(o,n.styles,!1,e);var a=this.nativeView.view;"dock"===n.styles.position?"function"==typeof a.interceptTouchEvent&&a.interceptTouchEvent(!0):n.interceptTouchEvent&&"function"==typeof a.interceptTouchEvent&&a.interceptTouchEvent(!0),a.drawBitmap(i,n.crop.src,n.crop.dest),this._drawTexts=this.nativeView.drawTexts(a,e.drawText)}}},h._createScreenShotFallback=function(e,t){this.relatedView||(this.relatedView=plus.webview.getWebviewById(e),this.relatedView?this.relatedView.show(t.aniShow,t.duration,function(){plus.nativeUI.closeWaiting(),this._showW2AViewFallback()}.bind(this)):(this.relatedView=plus.webview.create("_www/"+e,e,null,{__wap2app_type:"screenshot"}),this.relatedView.addEventListener("titleUpdate",function(){this.relatedView.show(t.aniShow,t.duration,function(){plus.nativeUI.closeWaiting(),this._showW2AViewFallback()}.bind(this))}.bind(this))))},h._showW2AViewFallback=function(){if(this.canTitleUpdate=!0,n.supportNativeObj()){var e=this.relatedView;this._createScreenshotAnimation(function(t){t&&e.hide("none")}.bind(this))}},h._createAppend=function(){var e=this.options.show,t=this.options.parent;return t&&(this.canTitleUpdate=!0,"browser"===t?(this.relatedView=this.w2aContext.getBrowser(this.options.url),this.relatedView.evalJS("wap2app_browser.loading();")):(this.relatedView=plus.webview.create("_www/"+t,this.options.id+"___wap2app_parent",{popGesture:"close",hardwareAccelerated:!0},{__wap2app_type:"parent"}),this.relatedView.addEventListener("titleUpdate",function(){this.relatedView.show(e.aniShow,e.duration)}.bind(this)))),this.relatedView},h._hasNetwork=function(){var e=this.options.network;return e!==!1&&plus.networkinfo.getCurrentType()===plus.networkinfo.CONNECTION_NONE?(plus.nativeUI.confirm("\u65e0\u6cd5\u8fde\u63a5\u670d\u52a1\u5668\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e",function(e){2===e.index?(r.openAirPlaneModeSetting(),plus.webview.currentWebview().reload()):1===e.index?plus.webview.currentWebview().reload():plus.runtime.quit()},"\u63d0\u793a",["\u9000\u51fa","\u91cd\u8bd5","\u8bbe\u7f6e\u7f51\u7edc"]),!1):!0},h._handleEvent=function(){var e=this;this.__loading=function(t){e._loading(t)},this.__titleUpdate=function(t){e._titleUpdate(t)},this.__loaded=function(t){e._loaded(t)},this.options.events.loading&&this.webview.addEventListener("loading",this.__loading),this.options.events.titleUpdate&&(this.titleUpdateTimer=setTimeout(function(){this._titleUpdate()}.bind(this),2e3),this.webview.addEventListener(this.options.show.eventType,this.__titleUpdate)),this.options.events.loaded&&(this.loadedTimer=setTimeout(function(){this._loaded()}.bind(this),5e3),this.webview.addEventListener("loaded",this.__loaded))},h._prepareLoading=function(){this.showing=!0;var e=this.options.showWaiting!==!1;e&&!this.backing&&this.webview&&this.webview.id!==p.W2A_BROWSER_CHILD_ID&&setTimeout(function(){plus.nativeUI.showWaiting("",{modal:!1,back:"transmit",padlock:!0})},20)},h._loading=function(e){this.backing=!1,this._prepareLoading(),"function"==typeof this.options.loading&&this.options.loading(this.webview,this.backing),this._isBrowserWebview()&&this.relatedView.evalJS("wap2app_browser.loading();")},h._createScreenshotAnimation=function(e){var t=this.options.screenshot,i=plus.nativeObj.Bitmap.getBitmapById(this._getScreenshot());if(i){var n=this.relatedView;this.relatedView=new c(i.id,null,t),this.relatedView.__wap2app_type="screenshot",this.relatedView.__wap2app_animate="fallback",this.relatedView.show("none",0,function(t){t||(this.relatedView=n),e&&e(t)}.bind(this))}else e&&e(!1)},h._titleUpdate=function(e){if(!this.backing){var t=e&&e.title||"";if(!t||"http"!==t.substr(0,4)&&"data"!==t.substr(0,4)||(t=""),t)if(this._isBrowserWebview())this.relatedView.evalJS("wap2app_browser.setTitle('"+encodeURIComponent(t||"")+"');");else if(this.relatedView&&this.relatedView instanceof c&&this.options.screenshot.title&&this.options.screenshot.title.enable&&!this.relatedView.drewTexts){var i=this.options.screenshot.title.filter;"function"==typeof i&&(t=i(t)),t&&(this.relatedView.setTitle(t,this.webview),this.nativeView&&this.nativeView.setTitle(t,this.webview))}var n=this.options,o=n.show;this.titleUpdateTimer&&clearTimeout(this.titleUpdateTimer),this.titleUpdateTimer=!1;var a=function(){if(this.showing){this.showing=!1;var e=this.relatedView?"none":o.aniShow,t=this.relatedView?0:o.duration;this._show(e,t)}};n.delay?setTimeout(function(){a.call(this)}.bind(this),n.delay):a.call(this)}},h._show=function(e,t){if(!this.backing){if(this.shown)return void plus.nativeUI.closeWaiting();var i=this.options;this.shown=!0,this.webview.show(e,t,function(){if(plus.nativeUI.closeWaiting(),this._handleRedirectUrlByCookie(),this.relatedView)if(this.relatedView instanceof c)if("group"===this.relatedView.__wap2app_animate){var e=i.group.animation;this.relatedView.close(e.type,e.duration,function(){this.nativeObjAnimated=!0,"titleUpdate"===i.screenshot.animation.clear.eventType&&this._clearAnimation("titleUpdate")}.bind(this))}else{var e=i.screenshot.animation;this.relatedView.close(e.type,e.duration,function(){this.nativeObjAnimated=!0,"titleUpdate"===i.screenshot.animation.clear.eventType&&this._clearAnimation("titleUpdate")}.bind(this))}else this._hasScreenshot()&&setTimeout(function(){this.relatedView.hide("none")}.bind(this),200);this.callback&&this.callback("shown")}.bind(this))}},h._handleRedirectUrlByCookie=function(){if(this.options.isRedirect){var e=this.options.overrideUrlLoading.redirect.paramName;n.isObject(e)&&e.cookie&&e.cookie.url&&(this.redirect_url=s.get(e.cookie.url,e.cookie.name),this.redirect_url&&(this.redirect_url=decodeURIComponent(this.redirect_url)))}},h._loaded=function(e){if(!this.backing&&!this.loaded){this.loadedTimer&&clearTimeout(this.loadedTimer),this.loadedTimer=!1,this.loaded=!0;var t=this.options;"function"==typeof t.loaded&&t.loaded(this.webview,this.backing),"loaded"===t.screenshot.animation.clear.eventType&&this._clearAnimation("loaded"),this._isBrowserWebview()&&this.relatedView.evalJS("wap2app_browser.loaded();")}},h._clearAnimation=function(e){if(this.relatedView&&this.relatedView instanceof c){var t=this.options,i=0;t.screenshot&&t.screenshot.animation&&t.screenshot.animation.clear.delay&&(i=t.screenshot.animation.clear.delay);var n=function(){this.relatedView.clear(function(){this.animating=!1}.bind(this))};i?setTimeout(function(){n.call(this)}.bind(this),i):n.call(this)}},h._backByView=function(){var e=this.options,t=e.show,i=t.aniShow||"pop-in",n=t.duration||300;i=~i.indexOf("in")?i.replace("in","out"):i.replace("out","in"),this.relatedView.animated?this.relatedView.clear():this.relatedView.back(i,n),this.webview.stop(),this.webview.close("none",0),plus.nativeUI.closeWaiting()},h._back=function(){var e=this.options,t=e.show,i=t.aniShow||"pop-in",n=t.duration||300;i=~i.indexOf("in")?i.replace("in","out"):i.replace("out","in"),plus.nativeUI.closeWaiting();var o=this.webview;if(e.parent&&"browser"!==e.parent&&(o=this.webview.parent(),o||(o=this.webview)),o.__wap2app_group)for(var a=o.__wap2app_group.split(p.W2A_GROUP_SPLIT),r=0;r<a.length;r++){var s=a[r];s!==o.id&&plus.webview.close(s,"none",0)}this.webview.__wap2app_preload?(o.hide(i,n),setTimeout(function(){o.setStyle({zindex:-1})},n)):function(e){var t=function(){e.close(i,n)};e.__wap2app_group?setTimeout(function(){t.call(this)}.bind(this),50):t.call(this)}.bind(this)(o);var c=e.back;c.reload&&setTimeout(function(){this._handleBackReload(c.reload)}.bind(this),100)},h._handleBackReload=function(e){if("function"==typeof e&&(e=e(location.pathname,location)),"boolean"==typeof e?this.opener&&e&&(e=[this.opener.id]):"string"==typeof e&&(e=[e]),n.isArray(e)&&e.length)for(var t=0;t<e.length;t++){var i=plus.webview.getWebviewById(e[t]);i&&i.reload()}},h.close=function(){this._back()},h._backBySpa=function(){if(this.history.length){var e=(this.history[this.history.length-1],this.options),t=e.show,i=t.aniShow||"pop-in",n=t.duration||300;i=~i.indexOf("in")?i.replace("in","out"):i.replace("out","in"),a.back(i,n,this.webview.id,{delay:e.back.delay,showWaiting:e.back.showWaiting})}else this.options.quit?this.quit():(this._back(),this.w2aContext.removeContext(this.webview.id))},h._backByWebview=function(e){this.webview.canBack(function(e){e.canBack?(this.webview.overrideUrlLoading({mode:"allow",match:p.W2A_OVERRIDE_MATCH}),this.webview.id===p.W2A_BROWSER_CHILD_ID&&this.w2aContext.getBrowser().evalJS("wap2app_browser.showClose();"),setTimeout(function(){this.webview.back(),this.handleOverrideUrlLoadingReject()}.bind(this),50)):this.options.quit?this.quit():(this._back(),this.w2aContext.removeContext(this.webview.id))}.bind(this))},h.back=function(e){return this.relatedView&&this.relatedView instanceof c&&this.animating?(this.animating=!1,void this._backByView()):(this.backing=!0,e=e!==!1,this.options.isRedirect&&(e=!0),void(e?"webview"===this.options.mode||this.webview.id===p.W2A_BROWSER_CHILD_ID?this._backByWebview():this._backBySpa():this.options.quit?this.quit():(this._back(),this.w2aContext.removeContext(this.webview.id))))},h._openFeedback=function(e){plus.nativeUI.showWaiting();var t=plus.webview.create(e||p.W2A_FEEDBACK_URL,p.W2A_FEEDBACK_ID);t.addEventListener("titleUpdate",function(){plus.nativeUI.closeWaiting();var e=this.options.show;t.show(e.aniShow,e.duration)}.bind(this))},h._quit=function(){this._clearNativeObj(),plus.runtime.quit()},h.quit=function(){var e=this.w2aContext.w2aOptions.globalOptions.feedback;if(e){var t=e.confirm,i=this.w2aContext.appName||"";plus.nativeUI.confirm(t.message.replace("{app}",i),function(t){switch(t.index){case 0:plus.storage.setItem(p.W2A_FEEDBACK,"TRUE"),this._openFeedback(e.url);break;case 1:plus.storage.setItem(p.W2A_FEEDBACK,"TRUE"),this._quit();case 2:break;case-1:(new Date).getTime()-this._first<2e3&&this._quit()}}.bind(this),t.title.replace("{app}",i),t.btns)}this._first?(new Date).getTime()-this._first<2e3&&this._quit():(this._first=(new Date).getTime(),
plus.nativeUI.toast("string"==typeof this.options.quit?this.options.quit:"\u518d\u6309\u4e00\u6b21\u9000\u51fa\u5e94\u7528"),setTimeout(function(){this._first=null}.bind(this),2e3))},h._clearNativeObj=function(){var e=this.w2aContext.getViewById(p.W2A_VIEW_ID);e&&e.clear(),e=this.w2aContext.getViewById(p.W2A_OTHER_VIEW_ID),e&&e.clear();var t=this.w2aContext.getBitmapById(p.W2A_BITMAP_ID);t&&t.clear(),t=this.w2aContext.getBitmapById(p.W2A_OTHER_BITMAP_ID),t&&t.clear()},h.open=function(e,t,i){var a=this.options,r=o.getLocation(e);if(!a.overrideUrlLoading.block||!n.isMatch(r,{matchPathnames:a.overrideUrlLoading.block})){if(~p.W2A_OVERRIDE_IGNORE.indexOf(r.protocol))return void this.w2aContext.open("self",this.webview,e);if(~["http:","https:","file:"].indexOf(r.protocol)){var s=a.isRedirect?a.overrideUrlLoading.redirect:!1;if(!s){var c=this.w2aContext.w2aOptions.getRedirectWebviewOptionsByUrl(i);c&&(s=c.overrideUrlLoading.redirect,a.redirect_id=c.id,a.redirect_url=i,a.isRedirect=!0,a.overrideUrlLoading.redirect=s)}if(s){var l=!1,h=this._handleOverrideUrlLoadingRedirect(r,s),d="self";if("href"===h){var u=wap2app.isConfiged(e);u&&u!==this.webview.id&&(u===a.redirect_id&&(l=!0),d="blank")}else"blank"===h&&(l=!0,d="blank");this.w2aContext.open(d,this.webview,e,t,h,!1,function(e){"shown"===e&&setTimeout(function(){if(l&&this.webview.close("none"),"blank"===h){var e=s.reload;if(typeof e===!0&&(e=[this.opener.id]),"function"==typeof e&&(e=e(r.pathname,r)),"string"==typeof e&&(e=[e]),n.isArray(e))for(var t=0,i=e.length;i>t;t++){var o=plus.webview.getWebviewById(e[t]);o&&o.reload()}}}.bind(this),0)}.bind(this))}else if("history"===a.mode){var h="href",u=wap2app.isConfiged(e),d="self",w=!1;u&&u!==this.webview.id&&(n.isArray(a.history)&&~a.history.indexOf(u)||(d="blank")),"self"===d&&this.webview.id===p.W2A_BROWSER_CHILD_ID&&(w=!1),h&&this.w2aContext.open(d,this.webview,e,t,h,w)}else this._handleIgnore(e,t,i)}}},h._handleOverrideUrlLoadingRedirect=function(e,t){var i="href",a=!1;if(t.handle&&(a=t.handle()),!a){var r=!1,p=o.getLocation(this.options.redirect_url||this.options.url),c=t.paramName;if(c&&("function"==typeof c?r=c():"string"==typeof c&&(c={url:c}),r||(c.url&&(r=n.getUrlParam(c.url,p.search)),!r&&c.cookie&&c.cookie.url&&(r=s.get(c.cookie.url,c.cookie.name),r&&(r=decodeURIComponent(r))),!r&&c.localStorage&&(r=localStorage.getItem(c.localStorage)),!r&&c.sessionStorage&&(r=sessionStorage.getItem(c.sessionStorage)),r||(r=this.redirect_url))),r||(r=t.defaultUrl),r){var p=o.getLocation(r);"function"==typeof t.match?a=t.match(e.pathname,e,p.pathname,p):e.pathname===p.pathname&&(a=!0)}}return a&&(i="blank"),i},h._handleIgnore=function(e,t,i){var a=this.options,r=!1,s=!1,p=a.ignore,l=a.overrideUrlLoading.ignore,h=a.group,d=o.getLocation(e);if(p&&(r=n.isMatch(d,{matchPathnames:p})),r===!1&&l&&(r=n.isMatch(d,{matchPathnames:l})),r===!1&&h&&n.isMatch(d,{matchPathnames:h.matchPathnames}))return void this.w2aContext.open("blank",this.webview,e,t);if(r===!1&&a.matchPathnames&&n.isMatch(d,a)&&(r=!0),null!==r)if(r){var u=this._getLoadType(d,o.getLocation(i));u&&this.w2aContext.open("self",this.webview,e,t,u,s)}else this.relatedView&&this.relatedView instanceof c&&this.relatedView.setStopped(!0),this.w2aContext.open("blank",this.webview,e,t)},h.clear=function(){this.cleared=!0,this.webview.removeEventListener("loading",this.__loading),this.webview.removeEventListener("titleUpdate",this.__titleUpdate),this.webview.removeEventListener("loaded",this.__loaded),this.titleUpdateTimer&&clearTimeout(this.titleUpdateTimer),this.loadedTimer&&clearTimeout(this.loadedTimer)},h.handleOverrideUrlLoadingReject=function(){var e=this.webview,t=this.options;setTimeout(function(){if("function"==typeof e.overrideUrlLoading&&t.overrideUrlLoading!==!1){var i=!1;e.overrideUrlLoading({mode:"reject",match:".*"},function(e){if(i){var n=+new Date-i;if(50>n)return}i=+new Date;var o=t.overrideUrlLoading.handle;if("function"==typeof o){var a=o(e.url);a&&"string"==typeof a&&(e.url=a)}this.open(e.url,"",this.webview.getURL())}.bind(this))}}.bind(this),t.isHome?0:t.overrideUrlLoading.delay)},h._getLoadType=function(e,t){var i=this.options,a="href";if(this._isReplace(e)&&(a="replace"),"replace"!==a){var r=!1;"boolean"!=typeof i.reload?r=n.isMatch(o.getLocation(i.url),{matchPathnames:i.reload}):i.reload&&(r=!0),e.href!==t.href||r||e.hash!==t.hash&&(a="reload")}return a},h._isReplace=function(e){var t=!1,i=this.options.overrideUrlLoading.replace;return"boolean"==typeof i?t=i:i&&(t=n.isMatch(e,{matchPathnames:i})),t},e.exports=l},function(e,t,i){var n=i(6),o=i(9),a=i(11),r=i(25),s=r.globalOptions,p=r.webviewOptions,c=function(e){this._init(e)},l=c.prototype;l._init=function(e){this.globalOptions={},this.webviewsOptions={},this.homeWebviewOptions={},this.redirectWebviewOptions={},this.globalWebviewOptions={},this.defaultWebviewOptions=p,this._initGlobalOptions(e),this._initWebviewsOptions(e)},l._initGlobalOptions=function(e){var t=n.extend(s);e.lockOrientation&&(t.lockOrientation=e.lockOrientation),e.cookies&&(t.cookies=e.cookies),e.sms&&(t.sms=e.sms),e.feedback===!1?t.feedback=!1:n.isObject(e.feedback)&&(t.feedback=n.extend(t.feedback,e.feedback)),t.browser=n.extend(t.browser,e.browser),t.browser.header={height:parseInt(t.browser.styles[".header"].height,10)},this.globalOptions=t},l._initWebviewsOptions=function(e){var t={};this.globalWebviewOptions=e.globalOptions||e.options;for(var i in e.webviews){var o=this._initWebviewOptions(i,e.webviews[i]);if(i===a.W2A_LAUNCH_WEBVIEW_ID&&(o.quit=!0),i=o.quit?plus.runtime.appid:i,o.id=i,o.quit)o.isHome=!0,o.styles.render="always",o.styles.popGesture="none",o.network=!0,this.homeWebviewOptions=o;else if(o.overrideUrlLoading){var r=o.overrideUrlLoading.redirect;(r.paramName||r.defaultUrl||r.handle)&&(o.isRedirect=!0,this.redirectWebviewOptions[i]=this._handleRedirectWebviewOptions(o))}if(t[i]=o,o.group){for(var s=[i],p=o.group.matchPathnames,c=0;c<p.length;c++)s.push(i+"_"+c);var l=s.join(a.W2A_GROUP_SPLIT);for(o.extras.__wap2app_group=l,c=0;c<p.length;c++)t[i+"_"+c]=n.extend(o,{id:i+"_"+c,matchPathnames:p[c],isHome:!1,extras:{__wap2app_group:l}})}}var h=this._convertOldVersion(this.globalOptions.browser.webview);if(h.matchHostnames||h.matchPathnames){var o=this._initWebviewOptions(a.W2A_BROWSER_CHILD_ID);o=n.extend(o,h),o.parent="browser",t[a.W2A_BROWSER_CHILD_ID]=o}this.webviewsOptions=t},l._handleRedirectWebviewOptions=function(e){return e.back.history=!0,e},l._initWebviewOptions=function(e,t){"undefined"==typeof t?t=~e.indexOf(a.W2A_WEBVIEW_ID)?{id:e}:{id:a.W2A_WEBVIEW_ID+Math.random(),url:e}:n.isObject(t)||(t={id:e,matchPathnames:t}),t=n.extend(this.globalWebviewOptions,t);var i=n.isObject(t)&&n.isObject(t.back)&&"undefined"!=typeof t.back.history,o=n.isObject(t)&&n.isObject(t.screenshot)&&t.screenshot.title,r=n.isObject(t)&&n.isObject(t.screenshot)&&t.screenshot.view;if(t=n.extend(p,this.globalWebviewOptions,t),this._convertOldVersion(t),"string"==typeof t.back&&(t.back=n.extend(p.back,{selector:t.back})),"string"==typeof t.screenshot&&(t.screenshot=n.extend(p.screenshot,{url:t.screenshot})),t.screenshot.title&&("boolean"==typeof t.screenshot.title&&(t.screenshot.title=n.extend(p.screenshot.title,{enable:!0})),o&&n.isObject(t.screenshot.title)&&(t.screenshot.title.enable=!0)),r){var s=t.screenshot.view;if("number"==typeof s){var c=s+"px";t.screenshot.view=n.extend(p.screenshot.view,{enable:!0,styles:{height:c},crop:{src:{height:c},dst:{height:c}}})}else if(n.isObject(s)&&s.height){var c=s.height+"px",l=s.dock;t.screenshot.view=n.extend(p.screenshot.view,{enable:!0,interceptTouchEvent:!!s.interceptTouchEvent,styles:{height:c,position:l?"dock":"absolute"},crop:{src:{height:c},dst:{height:c}},click:s.click||{}})}}else t.screenshot.view=!1;t.screenshot.drawText&&n.isObject(t.screenshot.drawText)&&(t.screenshot.drawText=[t.screenshot.drawText]),"boolean"==typeof t.gps&&(t.gps=n.extend(p.gps,{enable:t.gps})),!i&&"webview"===t.mode&&n.isArray(t.matchPathnames)&&(t.back.history=!1);var h=t.group,d=!1;if(h&&n.isArray(h.matchPathnames)&&h.matchPathnames.length){var u=h.matchPathnames;t.group.matchPathnames=u,h.drawText&&n.isObject(h.drawText)&&(t.group.drawText=[h.drawText]),t.styles.render="always",d=!0}d||(t.group=!1);var w={__wap2app_type:t.quit?"home":"normal"};return t.extras=n.extend(t.extras,w),t},l._convertOldVersion=function(e){return e.matchHostnames=e.matchHostnames||e.hostname,e.matchPathnames=e.matchPathnames||e.pathname,delete e.hostname,delete e.pathname,e.group&&e.group.pathname&&(e.group.matchPathnames=e.group.pathname,delete e.group.pathname),e},l._matchOptionsByUrl=function(e){for(var t in this.webviewsOptions){var i=this.webviewsOptions[t];if(n.isMatch(e,i))return i}return!1},l.getWebviewOptionsById=function(e){return this.webviewsOptions[e]||this._initWebviewOptions(e)},l.getRedirectWebviewOptionsByUrl=function(e){var t=o.getLocation(e);for(var i in this.redirectWebviewOptions){var a=this.redirectWebviewOptions[i];if(n.isMatch(t,a))return a}return!1},l.getWebviewOptionsByUrl=function(e){var t=!1,i=o.getLocation(e);if(t=this._matchOptionsByUrl(i))return t;var r=this.globalOptions.browser.webview;return(r.matchHostnames||r.matchPathnames)&&n.isMatch(i,r)?this._getWebviewOptionsById(a.W2A_BROWSER_CHILD_ID):this._initWebviewOptions(e)},l.isConfiged=function(e){var t=this._matchOptionsByUrl(o.getLocation(e));return t&&t.id!==a.W2A_BROWSER_CHILD_ID?t.id:!1},e.exports=c},function(e,t){e.exports={globalOptions:{debug:!1,ignore:!1,lockOrientation:"portrait-primary",globalOptions:{},webviews:{},cookies:!1,sms:{match:{sign:!1,length:6},callback:{webviewId:!1,handle:!1}},feedback:{url:!1,confirm:{title:"{app}",message:"\u611f\u8c22\u4f7f\u7528{app}\u6d41\u5e94\u7528\u7248\u672c\uff0c\u6b22\u8fce\u53cd\u9988\u4f7f\u7528\u4f53\u9a8c",btns:["\u53cd\u9988\u4f53\u9a8c","\u9000\u51fa","\u53d6\u6d88"]}},browser:{url:!1,webview:{mode:"history",matchHostnames:!1,matchPathnames:!1,reload:!0,pullToRefresh:!1},dock:!1,styles:{".header":{height:"44px","background-color":"#efefef"},".back,.close":{color:"#8e8e93"},".title":{color:"#252525"},".progressbar":{"background-color":"#b6b6b6"},".progressbar span":{"background-color":"#ed2e2b"}}},pullToRefresh:{webview:{matchHostnames:!1,matchPathnames:!1}}},webviewOptions:{mode:"webview",url:"",quit:!1,matchHostnames:!1,matchPathnames:!1,preload:!1,events:{titleUpdate:!0,loading:!0,loaded:!0},group:{matchPathnames:!1,placeholder:"#fff",activate:{container:!1,attribute:!1,itemMatch:!1,itemActiveClass:!1,activate:!1,deactivate:!1},drawText:{text:"",dst:{top:0,left:0,width:"100%",height:"100%"},styles:{size:"16px",color:"#000000",weight:"normal",style:"normal",family:""}},animation:{type:"shrink",duration:200,frames:12,region:{top:0,bottom:0,left:0,right:0}}},styles:{popGesture:"close",hardwareAccelerated:!0},fixed:{selector:"",styles:!1},extras:!1,network:!1,ignore:!1,listenResourceLoading:{match:!1},overrideUrlLoading:{block:!1,delay:500,handle:!1,ignore:!1,replace:!1,redirect:{handle:!1,match:!1,defaultUrl:!1,paramName:!1,reload:!1}},overrideResourceRequest:!1,appendJsFile:!1,delay:0,show:{eventType:"titleUpdate",aniShow:"slide-in-right",duration:300},history:!1,showWaiting:!0,screenshot:{url:!1,handle:!1,title:{enable:!1,filter:!1,max:25,dst:{top:"0px",left:"0px",width:"100%",height:"44px"},styles:{size:"16px",color:"#000000",weight:"normal",style:"normal",family:""}},drawText:{text:"",max:25,dst:{top:"0px",left:"0px",width:"100%",height:"100%"},styles:{size:"16px",color:"#000000",weight:"normal",style:"normal",family:""}},animation:{type:"shrink",duration:200,frames:12,region:{top:"0px",bottom:"0px",left:"0px",right:"0px"},clear:{eventType:"loaded",delay:0}},view:{enable:!1,height:0,dock:!1,interceptTouchEvent:!1,styles:{top:"0px",left:"0px",width:"100%",height:"100%",dock:"top",position:"absolute"},crop:{src:{top:"0px",left:"0px",width:"100%",height:"100%"},dst:{top:"0px",left:"0px",width:"100%",height:"100%"}},click:{back:{rect:{top:0,left:0,width:60,height:60},handle:function(){wap2app.back()}}}}},back:{delay:500,showWaiting:!1,handle:!1,enable:!0,backbutton:!0,override:!0,history:!0,selector:"",eventType:"click",beforeBack:!1,reload:!1,animation:{type:"shrink",duration:200,frames:12,region:{top:"0px",bottom:"0px",left:"0px",right:"0px"}}},loading:!1,loaded:!1,reload:!1,pullToRefresh:{support:!0,height:"100px",range:"300px",contentdown:{caption:"\u4e0b\u62c9\u53ef\u4ee5\u5237\u65b0"},contentover:{caption:"\u91ca\u653e\u7acb\u5373\u5237\u65b0"},contentrefresh:{caption:"\u6b63\u5728\u5237\u65b0..."}},injectStyle:!1,injectScript:!1,gps:{enable:!1,interval:1440,disabledMsg:"\u672c\u673a\u672a\u5f00\u542f\u5b9a\u4f4d\u529f\u80fd\uff0c\u70b9\u786e\u5b9a\u8fdb\u5165\u8bbe\u7f6e\u5f00\u542f\u5b9a\u4f4d\u529f\u80fd",forbiddenMsg:"\u5c1a\u672a\u8d4b\u4e88\u83b7\u53d6\u4f4d\u7f6e\u7684\u6743\u9650\u3002\u70b9\u786e\u5b9a\u8fdb\u5165\u8bbe\u7f6e\uff0c\u7ed9{app}\u8d4b\u4e88\u5b9a\u4f4d\u6743\u9650"},share:!1}}},function(e,t,i){var n=i(6),o=i(15),a=function(e){this._init(e)},r=a.prototype;r._init=function(e){this.w2aOptions=e,this.webview=plus.webview.currentWebview(),plus.screen.lockOrientation(e.globalOptions.lockOrientation||"portrait-primary"),this.webview.setStyle(e.homeWebviewOptions.styles),this._initCookies(this.w2aOptions.globalOptions.cookies)},r._initCookies=function(e){if(e){e=n.isArray(e)?e:[e];for(var t=0;t<e.length;t++){var i=e[t];i.url&&i.name&&o.set(i.url,i.name,i.value,i.expire)}}},r.handleOldVersion=function(){this.webview.appendJsFile("_www/__wap2app.js"),this.webview.appendJsFile("_www/__wap2appconfig.js");var e=this.w2aOptions.homeWebviewOptions.appendJsFile;if("string"==typeof e&&e&&(e=[e]),n.isArray(e))for(var t=0,i=e.length;i>t;t++)e[t]&&this.webview.appendJsFile("_www/"+e[t]);window.location.replace(this.w2aOptions.homeWebviewOptions.url)},e.exports=a}]);